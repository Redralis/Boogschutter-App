generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  email          String              @id @unique
  password       String
  firstName      String
  lastName       String
  bondNumber     Int?
  isAdmin        Boolean
  isTrainer      Boolean
  isMatchLeader  Boolean
  phoneNumber    String?
  events         eventParticipants[]
  forgotPassword forgotPassword[]
}

model eventParticipants {
  userEmail   String
  eventId     Int
  isAssistent Boolean
  event       Event   @relation(fields: [eventId], references: [eventId])
  user        User    @relation(fields: [userEmail], references: [email])

  @@id([userEmail, eventId])
}

model Event {
  eventId           Int                 @id @default(autoincrement())
  eventName         String
  datePicker        Int
  description       String
  maxParticipants   Int?
  type              String
  eventParticipants eventParticipants[]
}

model forgotPassword {
  ForgotPasswordUserEmail String
  token                   String @id @unique
  user                    User   @relation(fields: [ForgotPasswordUserEmail], references: [email])
}
